FILE(GLOB SRC *.cpp *.h)

ADD_LIBRARY(nel_patch_lib STATIC ${SRC})

INCLUDE_DIRECTORIES(${MAXSDK_INCLUDE_DIR})
TARGET_LINK_LIBRARIES(nel_patch_lib nelmisc nel3d ${MAXSDK_LIBRARIES})
NL_DEFAULT_PROPS(nel_patch_lib "MAX Plugin: NeL Patch Library")
NL_ADD_RUNTIME_FLAGS(nel_patch_lib)
NL_ADD_LIB_SUFFIX(nel_patch_lib)

ADD_DEFINITIONS(${MAXSDK_DEFINITIONS})

INSTALL(TARGETS nel_patch_lib RUNTIME DESTINATION maxplugin/plugins LIBRARY DESTINATION ${NL_LIB_PREFIX} ARCHIVE DESTINATION ${NL_LIB_PREFIX} COMPONENT libraries)
