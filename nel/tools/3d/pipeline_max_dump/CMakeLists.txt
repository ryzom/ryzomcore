
FIND_PACKAGE(LIBGSF)

IF (NOT (LIBGSF_INCLUDE_DIR AND LIBGSF_LIBRARIES))
	MESSAGE(FATAL_ERROR "LIBGSF not found!")
ENDIF (NOT (LIBGSF_INCLUDE_DIR AND LIBGSF_LIBRARIES))

FIND_PACKAGE(GOBJECT2)

if (NOT GOBJECT2_FOUND)
	MESSAGE(FATAL_ERROR "GOBJECT2 not found!")
ENDIF (NOT GOBJECT2_FOUND)

FIND_PACKAGE(GLIB2)

if (NOT GLIB2_FOUND)
	MESSAGE(FATAL_ERROR "GLIB2 not found!")
ENDIF (NOT GLIB2_FOUND)

INCLUDE_DIRECTORIES(${GLIB2_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${LIBGSF_INCLUDE_DIR})

FILE(GLOB SRCS *.cpp)
FILE(GLOB HDRS *.h)

ADD_EXECUTABLE(pipeline_max_dump
	${SRCS}
	${HDRS}
	)

TARGET_LINK_LIBRARIES(pipeline_max_dump
	${LIBGSF_LIBRARIES}
	${GLIB2_LIBRARIES}
	${GOBJECT2_LIBRARIES}
	pipeline_max
	nelmisc
)

NL_DEFAULT_PROPS(pipeline_max_dump "NeL, Tools, 3D: Pipeline Max Dump (Temporary Tool)")
NL_ADD_RUNTIME_FLAGS(pipeline_max_dump)

INSTALL(TARGETS pipeline_max_dump RUNTIME DESTINATION bin COMPONENT toolsmisc)

