
IF(WITH_NEL_TOOLS)
  IF(WITH_3D)
    IF(WITH_ASSIMP)
      ADD_SUBDIRECTORY(mesh_utils)
      ADD_SUBDIRECTORY(mesh_export)
    ENDIF()
    IF(WITH_LIBGSF)
      ADD_SUBDIRECTORY(pipeline_max)
      ADD_SUBDIRECTORY(pipeline_max_dump)
      ADD_SUBDIRECTORY(pipeline_max_rewrite_assets)
    ENDIF()
      ADD_SUBDIRECTORY(anim_builder)
      ADD_SUBDIRECTORY(animation_set_builder)
      ADD_SUBDIRECTORY(build_clod_bank)
      ADD_SUBDIRECTORY(build_clodtex)
      ADD_SUBDIRECTORY(build_coarse_mesh)
      ADD_SUBDIRECTORY(build_far_bank)
      ADD_SUBDIRECTORY(build_shadow_skin)
      ADD_SUBDIRECTORY(build_smallbank)
      ADD_SUBDIRECTORY(cluster_viewer)
      ADD_SUBDIRECTORY(file_info)
      ADD_SUBDIRECTORY(ig_add)
      ADD_SUBDIRECTORY(ig_elevation)
      ADD_SUBDIRECTORY(ig_info)
      ADD_SUBDIRECTORY(ig_lighter)
      ADD_SUBDIRECTORY(lightmap_optimizer)
      ADD_SUBDIRECTORY(zone_dependencies)
      ADD_SUBDIRECTORY(zone_ig_lighter)
      ADD_SUBDIRECTORY(zone_lighter)
      ADD_SUBDIRECTORY(zone_welder)
      ADD_SUBDIRECTORY(unbuild_elevation)
      ADD_SUBDIRECTORY(zone_elevation)
      ADD_SUBDIRECTORY(shapes_exporter)
      ADD_SUBDIRECTORY(shape2obj)
      ADD_SUBDIRECTORY(zone_check_bind)
      ADD_SUBDIRECTORY(zone_dump)
      ADD_SUBDIRECTORY(zviewer)
  ENDIF()
    ADD_SUBDIRECTORY(build_interface)
    ADD_SUBDIRECTORY(unbuild_interface)
    ADD_SUBDIRECTORY(get_neighbors)
    ADD_SUBDIRECTORY(textures_optimizer)
    ADD_SUBDIRECTORY(textures_tool)
    ADD_SUBDIRECTORY(tga_cut)
    ADD_SUBDIRECTORY(tga_resize)
ENDIF()

# For tools selection of only max plugins
IF(WIN32 AND WITH_3D)
  IF(MFC_FOUND)
    ADD_SUBDIRECTORY(object_viewer)
    IF(WITH_NEL_MAXPLUGIN)
      IF(MAXSDK_FOUND)
        ADD_SUBDIRECTORY(plugin_max)
        ADD_SUBDIRECTORY(ligo)
      ENDIF()
    ENDIF()
  ENDIF()
ENDIF()

IF(WITH_NEL_TOOLS AND WITH_3D)
  IF(WIN32)
#    ADD_SUBDIRECTORY(lightmap_optimizer)
    IF(MFC_FOUND)
      ADD_SUBDIRECTORY(object_viewer_exe)
      ADD_SUBDIRECTORY(tile_edit)
    ENDIF()
  ENDIF()

  IF(WITH_QT OR WITH_QT5)
    ADD_SUBDIRECTORY(tile_edit_qt)
    ADD_SUBDIRECTORY(object_viewer_widget)
  ENDIF()

  IF(WITH_QT5)
    ADD_SUBDIRECTORY(shared_widgets)
    ADD_SUBDIRECTORY(panoply_preview)
  ENDIF()

  IF(WITH_NEL_TOOLS)
    FIND_PACKAGE(Squish)
  ENDIF()

  IF(SQUISH_FOUND)
    ADD_SUBDIRECTORY(s3tc_compressor_lib)
    ADD_SUBDIRECTORY(panoply_maker)
    ADD_SUBDIRECTORY(tga_2_dds)
    ADD_SUBDIRECTORY(hls_bank_maker)
  ENDIF()

  #crash_log_analyser
ENDIF()

